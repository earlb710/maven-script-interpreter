// Test Script: Width Calculation for Input Controls
// Description: Test screen to verify width calculations for DatePicker, ColorPicker, ComboBox, and ChoiceBox
// Tests:
//   1. DatePicker width calculation (should auto-size based on date format)
//   2. ColorPicker width calculation (should auto-size)
//   3. ComboBox width calculation with options (should size based on longest option)
//   4. ChoiceBox width calculation with options (should size based on longest option)
//   5. ChoiceBox with short options vs long options (demonstrates data-driven sizing)
// Author: EBS Test Suite
// Date: 2025-11-17

screen widthCalcScreen = {
    "title": "Width Calculation Test - DatePicker, ColorPicker, ComboBox, ChoiceBox",
    "width": 900,
    "height": 700,
    "maximize": false,
    "vars": [
        // DatePicker test
        {
            "name": "birthDate",
            "type": "string",
            "default": "",
            "display": {
                "type": "datepicker",
                "labelText": "Birth Date (auto-width):",
                "labelTextAlignment": "left",
                "promptText": "Select date"
            }
        },
        {
            "name": "appointmentDate",
            "type": "string",
            "default": "",
            "display": {
                "type": "datepicker",
                "labelText": "Appointment Date (maxLength=25):",
                "labelTextAlignment": "left",
                "maxLength": 25
            }
        },
        // ColorPicker test
        {
            "name": "favoriteColor",
            "type": "string",
            "default": "#4a90e2",
            "display": {
                "type": "colorpicker",
                "labelText": "Favorite Color (auto-width):",
                "labelTextAlignment": "left"
            }
        },
        {
            "name": "accentColor",
            "type": "string",
            "default": "#ff5722",
            "display": {
                "type": "colorpicker",
                "labelText": "Accent Color (maxLength=20):",
                "labelTextAlignment": "left",
                "maxLength": 20
            }
        },
        // ComboBox test - short options
        {
            "name": "size",
            "type": "string",
            "default": "",
            "display": {
                "type": "combobox",
                "labelText": "Size (short options - data-driven):",
                "labelTextAlignment": "left",
                "promptText": "Select",
                "options": ["XS", "S", "M", "L", "XL", "XXL"]
            }
        },
        // ComboBox test - long options
        {
            "name": "department",
            "type": "string",
            "default": "",
            "display": {
                "type": "combobox",
                "labelText": "Department (long options - data-driven):",
                "labelTextAlignment": "left",
                "promptText": "Select department",
                "options": ["Human Resources", "Information Technology", "Marketing and Sales", "Research and Development", "Customer Service"]
            }
        },
        // ComboBox with maxLength override
        {
            "name": "priority",
            "type": "string",
            "default": "",
            "display": {
                "type": "combobox",
                "labelText": "Priority (maxLength=15 override):",
                "labelTextAlignment": "left",
                "maxLength": 15,
                "options": ["Low", "Medium", "High", "Critical"]
            }
        },
        // ChoiceBox test - short options
        {
            "name": "status",
            "type": "string",
            "default": "Active",
            "display": {
                "type": "choicebox",
                "labelText": "Status (short options - data-driven):",
                "labelTextAlignment": "left",
                "options": ["Active", "Inactive", "Pending"]
            }
        },
        // ChoiceBox test - long options
        {
            "name": "country",
            "type": "string",
            "default": "USA",
            "display": {
                "type": "choicebox",
                "labelText": "Country (long options - data-driven):",
                "labelTextAlignment": "left",
                "options": ["United States of America", "United Kingdom", "Canada", "Australia", "New Zealand", "Germany"]
            }
        },
        // ChoiceBox with maxLength override
        {
            "name": "role",
            "type": "string",
            "default": "User",
            "display": {
                "type": "choicebox",
                "labelText": "Role (maxLength=12 override):",
                "labelTextAlignment": "left",
                "maxLength": 12,
                "options": ["Administrator", "User", "Guest", "Moderator"]
            }
        }
    ],
    "area": [
        {
            "name": "testGrid",
            "type": "gridpane",
            "style": "-fx-hgap: 15; -fx-vgap: 12; -fx-padding: 20;",
            "items": [
                // DatePicker tests
                {
                    "name": "birthDateField",
                    "varRef": "birthDate",
                    "sequence": 1,
                    "layoutPos": "0,0"
                },
                {
                    "name": "appointmentDateField",
                    "varRef": "appointmentDate",
                    "sequence": 2,
                    "layoutPos": "1,0"
                },
                // ColorPicker tests
                {
                    "name": "favoriteColorField",
                    "varRef": "favoriteColor",
                    "sequence": 3,
                    "layoutPos": "2,0"
                },
                {
                    "name": "accentColorField",
                    "varRef": "accentColor",
                    "sequence": 4,
                    "layoutPos": "3,0"
                },
                // ComboBox tests
                {
                    "name": "sizeField",
                    "varRef": "size",
                    "sequence": 5,
                    "layoutPos": "4,0"
                },
                {
                    "name": "departmentField",
                    "varRef": "department",
                    "sequence": 6,
                    "layoutPos": "5,0"
                },
                {
                    "name": "priorityField",
                    "varRef": "priority",
                    "sequence": 7,
                    "layoutPos": "6,0"
                },
                // ChoiceBox tests
                {
                    "name": "statusField",
                    "varRef": "status",
                    "sequence": 8,
                    "layoutPos": "7,0"
                },
                {
                    "name": "countryField",
                    "varRef": "country",
                    "sequence": 9,
                    "layoutPos": "8,0"
                },
                {
                    "name": "roleField",
                    "varRef": "role",
                    "sequence": 10,
                    "layoutPos": "9,0"
                }
            ]
        }
    ]
};

// Display test information
println("Width Calculation Test");
println("=====================");
println("");
println("This test demonstrates width calculation for:");
println("  1. DatePicker - auto-sized based on date format");
println("  2. ColorPicker - auto-sized");
println("  3. ComboBox - sized based on longest option when no maxLength specified");
println("  4. ChoiceBox - sized based on longest option when no maxLength specified");
println("");
println("Expected behavior:");
println("  - DatePicker should be narrower than controls with maxLength override");
println("  - ColorPicker should be compact");
println("  - Size ComboBox should be narrow (short options: XS, S, M, L, XL, XXL)");
println("  - Department ComboBox should be wide (long options)");
println("  - Status ChoiceBox should be narrow (short options)");
println("  - Country ChoiceBox should be wide (long options)");
println("  - Controls with maxLength override should use that width regardless of data");
println("");

// Show the screen
show widthCalcScreen;

println("");
println("Screen displayed successfully!");
println("Please verify that:");
println("  ✓ DatePicker controls have appropriate width");
println("  ✓ ColorPicker controls have appropriate width");
println("  ✓ ComboBox with short options is narrow");
println("  ✓ ComboBox with long options is wide enough to show full text");
println("  ✓ ChoiceBox with short options is narrow");
println("  ✓ ChoiceBox with long options is wide enough to show full text");
println("  ✓ Controls with maxLength specified use that width");
