// VERIFIED TEST: Button with promptText and onClick
// This test verifies that buttons display text from promptText
// and execute EBS code when clicked

print "=== Testing Button promptText and onClick ===";
print "";

// Create a screen with a button that has both promptText (for display) and onClick (for action)
screen testBtn = {
    "title": "Button Test - promptText and onClick",
    "width": 500,
    "height": 300,
    "vars": [
        {
            "name": "clickCount",
            "type": "int",
            "default": 0
        },
        {
            "name": "status",
            "type": "string",
            "default": "Ready"
        }
    ],
    "area": [
        {
            "name": "mainArea",
            "type": "vbox",
            "items": [
                {
                    "name": "clickCountField",
                    "sequence": 0,
                    "varRef": "clickCount",
                    "display": {"type": "textfield", "promptText": "Number of clicks"}
                },
                {
                    "name": "statusField",
                    "sequence": 1,
                    "varRef": "status",
                    "display": {"type": "textfield", "promptText": "Status"}
                },
                {
                    "name": "clickButton",
                    "sequence": 2,
                    "display": {
                        "type": "button",
                        "promptText": "Click Me!",
                        "onClick": "testBtn.clickCount = testBtn.clickCount + 1; testBtn.status = \"Clicked \" + testBtn.clickCount + \" times\"; print \"Button clicked! Count: \" + testBtn.clickCount;"
                    }
                },
                {
                    "name": "resetButton",
                    "sequence": 3,
                    "display": {
                        "type": "button",
                        "promptText": "Reset",
                        "onClick": "testBtn.clickCount = 0; testBtn.status = \"Reset\"; print \"Counter reset\";"
                    }
                }
            ]
        }
    ]
};

print "Screen created. Initial values:";
print "Click count: " + testBtn.clickCount;
print "Status: " + testBtn.status;
print "";

// Show the screen
screen testBtn show;

print "Screen shown. Click the buttons to test:";
print "1. Text fields should show the current values";
print "2. 'Click Me!' button should increment the counter";
print "3. 'Reset' button should reset the counter to 0";
print "4. Both buttons should update the status text field";
