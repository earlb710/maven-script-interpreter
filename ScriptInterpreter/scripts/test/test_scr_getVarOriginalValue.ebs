// Test script for scr.getVarOriginalValue builtin function
// Gets the original value of a variable (before any modifications)
//
// USAGE: Run in EBS interactive console
//        import "scripts/test/test_scr_getVarOriginalValue.ebs";

print "\n";
print "Test: scr.getVarOriginalValue\n";
print "==============================\n";
print "\n";

// Create screen
screen testScreen = {
    "title": "Get Var Original Value Test",
    "width": 400,
    "height": 300,
    "vars": [
        {
            "name": "name",
            "type": "string",
            "default": "John Doe"
        },
        {
            "name": "age",
            "type": "int",
            "default": 30
        }
    ]
};

show screen testScreen;

// Test getVarOriginalValue
print "Testing scr.getVarOriginalValue...\n\n";

var nameOriginal: string = call scr.getVarOriginalValue("testScreen", "name");
print "Original name: ";
print nameOriginal;
print " (expected: John Doe)\n";

var ageOriginal: int = call scr.getVarOriginalValue("testScreen", "age");
print "Original age: ";
print ageOriginal;
print " (expected: 30)\n\n";

print "Now modifying values...\n";
testScreen.name = "Jane Smith";
testScreen.age = 25;

print "Current name: ";
print testScreen.name;
print "\n";
print "Current age: ";
print testScreen.age;
print "\n\n";

var nameStillOriginal: string = call scr.getVarOriginalValue("testScreen", "name");
print "Original name (unchanged): ";
print nameStillOriginal;
print " (expected: John Doe)\n";

var ageStillOriginal: int = call scr.getVarOriginalValue("testScreen", "age");
print "Original age (unchanged): ";
print ageStillOriginal;
print " (expected: 30)\n";

print "\n";
print "Test completed successfully!\n";
print "\n";
