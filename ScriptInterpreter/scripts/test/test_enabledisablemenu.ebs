// Test script for scr.enableMenu and scr.disableMenu builtin functions

// Create a screen with menu and buttons to test enable/disable
screen testEnableDisable = {
    "name": "testEnableDisable",
    "title": "Test Enable/Disable Menu Items",
    "width": 700,
    "height": 550,
    "area": [
        {
            "name": "main",
            "type": "vbox",
            "items": [
                {
                    "type": "label",
                    "text": "This screen demonstrates enabling and disabling menu items."
                },
                {
                    "type": "label",
                    "text": "Disabled items appear grayed out and cannot be clicked."
                },
                {
                    "type": "separator"
                },
                {
                    "type": "button",
                    "text": "Add Custom Items",
                    "onClick": "call scr.addMenu(\"testenabledisable\", \"Edit\", \"save\", \"Save\", \"call println('Save clicked');\"); call scr.addMenu(\"testenabledisable\", \"Edit\", \"saveAs\", \"Save As\", \"call println('Save As clicked');\");"
                },
                {
                    "type": "separator"
                },
                {
                    "type": "button",
                    "text": "Disable Save",
                    "onClick": "call scr.disableMenu(\"testenabledisable\", \"Edit.Save\");"
                },
                {
                    "type": "button",
                    "text": "Enable Save",
                    "onClick": "call scr.enableMenu(\"testenabledisable\", \"Edit.Save\");"
                },
                {
                    "type": "separator"
                },
                {
                    "type": "button",
                    "text": "Disable Entire Edit Menu",
                    "onClick": "call scr.disableMenu(\"testenabledisable\", \"Edit\");"
                },
                {
                    "type": "button",
                    "text": "Enable Entire Edit Menu",
                    "onClick": "call scr.enableMenu(\"testenabledisable\", \"Edit\");"
                },
                {
                    "type": "separator"
                },
                {
                    "type": "button",
                    "text": "Add Tools Menu",
                    "onClick": "call scr.addMenu(\"testenabledisable\", \"Tools\", \"compile\", \"Compile\", \"call println('Compile');\"); call scr.addMenu(\"testenabledisable\", \"Tools\", \"run\", \"Run\", \"call println('Run');\");"
                },
                {
                    "type": "button",
                    "text": "Disable Tools Menu",
                    "onClick": "call scr.disableMenu(\"testenabledisable\", \"Tools\");"
                },
                {
                    "type": "button",
                    "text": "Enable Tools Menu",
                    "onClick": "call scr.enableMenu(\"testenabledisable\", \"Tools\");"
                },
                {
                    "type": "separator"
                },
                {
                    "type": "button",
                    "text": "Add Nested Format Menu",
                    "onClick": "call scr.addMenu(\"testenabledisable\", \"Edit.Format\", \"upper\", \"Uppercase\", \"call println('Upper');\"); call scr.addMenu(\"testenabledisable\", \"Edit.Format\", \"lower\", \"Lowercase\", \"call println('Lower');\");"
                },
                {
                    "type": "button",
                    "text": "Disable Uppercase",
                    "onClick": "call scr.disableMenu(\"testenabledisable\", \"Edit.Format.Uppercase\");"
                },
                {
                    "type": "button",
                    "text": "Enable Uppercase",
                    "onClick": "call scr.enableMenu(\"testenabledisable\", \"Edit.Format.Uppercase\");"
                }
            ]
        }
    ]
};

show screen testEnableDisable;

call println("Test screen created.");
call println("Click buttons to test menu enable/disable:");
call println("  1. Add custom menu items");
call println("  2. Disable individual items (they become grayed out)");
call println("  3. Enable items (they become clickable again)");
call println("  4. Disable entire menus");
call println("  5. Enable entire menus");
call println("");
call println("Direct examples:");

// Add a Help menu with some items
call scr.addMenu("testenabledisable", "Help", "about", "About", "call println('About');");
call scr.addMenu("testenabledisable", "Help", "docs", "Documentation", "call println('Docs');");

call println("Added Help menu with About and Documentation items");

// Disable the Documentation item
call scr.disableMenu("testenabledisable", "Help.Documentation");
call println("Disabled Help > Documentation (should appear grayed out)");
call println("");
call println("To enable: call scr.enableMenu(\"testenabledisable\", \"Help.Documentation\");");
