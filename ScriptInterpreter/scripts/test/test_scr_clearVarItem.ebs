// Test script for scr.clearVarItem builtin function
// Clears the variable to its default value
// Typically called when user clicks Clear Form button
//
// USAGE: Run in EBS interactive console
//        import "scripts/test/test_scr_clearVarItem.ebs";

print "\n";
print "Test: scr.clearVarItem\n";
print "======================\n";
print "\n";

// Create screen
screen testScreen = {
    "title": "Clear Var Item Test",
    "width": 400,
    "height": 300,
    "vars": [
        {
            "name": "notes",
            "type": "string",
            "default": "Enter notes here"
        }
    ]
};

show screen testScreen;

// Test clearVarItem
print "Testing scr.clearVarItem...\n\n";

print "Setting notes to 'User typed something'...\n";
testScreen.notes = "User typed something";

print "Current value: ";
print testScreen.notes;
print " (expected: User typed something)\n\n";

print "Calling scr.clearVarItem (simulating Clear Form button)...\n";
call scr.clearVarItem("testScreen", "notes");

print "Current value after clear: ";
print testScreen.notes;
print " (expected: Enter notes here - the default)\n";

var original: string = call scr.getVarOriginalValue("testScreen", "notes");
print "Original value (unchanged): ";
print original;
print " (expected: Enter notes here - still the same)\n";

print "\n";
print "Test completed successfully!\n";
print "Use Case: Call this to clear form fields to their defaults.\n";
print "          Does NOT change the original value.\n";
print "\n";
